(()=>{var e={};e.id=5548,e.ids=[5548],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},26497:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c}),a(40397),a(90596),a(12734),a(35866);var i=a(23191),s=a(88716),t=a(37922),n=a.n(t),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(r,o);let c=["",{children:["admin",{children:["offers",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,40397)),"/Users/cenkyakinlar/Documents/Dokumentit – CenkAir - MacBook Air/DREAMWEAVER/FOODAI/app/admin/offers/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"/Users/cenkyakinlar/Documents/Dokumentit – CenkAir - MacBook Air/DREAMWEAVER/FOODAI/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,12734)),"/Users/cenkyakinlar/Documents/Dokumentit – CenkAir - MacBook Air/DREAMWEAVER/FOODAI/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/cenkyakinlar/Documents/Dokumentit – CenkAir - MacBook Air/DREAMWEAVER/FOODAI/app/admin/offers/new/page.tsx"],p="/admin/offers/new/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/offers/new/page",pathname:"/admin/offers/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},84255:(e,r,a)=>{Promise.resolve().then(a.bind(a,93009))},93009:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>o});var i=a(10326),s=a(17577),t=a(8903);function n({onDone:e}){let[r,a]=(0,s.useState)(!1),[t,n]=(0,s.useState)(""),l=async r=>{let i=r.target.files?.[0];if(!i)return;a(!0);let s=new FormData;s.set("file",i);let t=await fetch("/api/admin/upload-image",{method:"POST",body:s}),l=await t.json();a(!1),l.ok?(n(l.url),e(l.url)):alert(l.error||"Upload failed")};return(0,i.jsxs)("div",{className:"grid gap-2",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:l,disabled:r}),t&&i.jsx("img",{src:t,alt:"preview",className:"w-full max-w-xs rounded-xl border"})]})}var l=a(35047);function o(){let e=(0,l.useRouter)(),r=(0,t.z)(),[a,o]=(0,s.useState)([]),[c,d]=(0,s.useState)({title:"",description:"",city:"",cuisine:"",original_price:0,discounted_price:0,pickup:!0,delivery:!0,restaurant_id:void 0,provider_id:"",image_url:"",deep_link:"",status:"active"});function p(e,r){d(a=>({...a,[e]:r}))}async function u(){let{error:a}=await r.from("offers").insert([c]);a?console.error("Error saving offer:",a):e.push("/admin/offers")}return(0,i.jsxs)("div",{className:"p-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"New Offer"}),(0,i.jsxs)("div",{className:"mt-4 grid gap-3 max-w-xl",children:[i.jsx("select",{className:"border rounded-xl px-3 py-2",value:c.provider_id,onChange:e=>p("provider_id",e.target.value),children:a.map(e=>i.jsx("option",{value:e.id,children:e.name},e.id))}),i.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Title",value:c.title,onChange:e=>p("title",e.target.value)}),i.jsx("textarea",{className:"border rounded-xl px-3 py-2",placeholder:"Description",value:c.description,onChange:e=>p("description",e.target.value)}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("label",{className:"grid gap-1",children:[i.jsx("span",{children:"Original Price (€)"}),i.jsx("input",{type:"number",step:"0.01",className:"border rounded-xl px-3 py-2",value:c.original_price,onChange:e=>p("original_price",parseFloat(e.target.value)||0)})]}),(0,i.jsxs)("label",{className:"grid gap-1",children:[i.jsx("span",{children:"Discounted Price (€)"}),i.jsx("input",{type:"number",step:"0.01",className:"border rounded-xl px-3 py-2",value:c.discounted_price,onChange:e=>p("discounted_price",parseFloat(e.target.value)||0)})]})]}),i.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"City",value:c.city,onChange:e=>p("city",e.target.value)}),i.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Cuisine",value:c.cuisine,onChange:e=>p("cuisine",e.target.value)}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:c.pickup,onChange:e=>p("pickup",e.target.checked)}),"Pickup"]}),(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:c.delivery,onChange:e=>p("delivery",e.target.checked)}),"Delivery"]})]}),(0,i.jsxs)("label",{className:"grid gap-1",children:[i.jsx("span",{children:"Deep Link"}),i.jsx("input",{className:"border rounded-xl px-3 py-2",placeholder:"Deep link URL",value:c.deep_link,onChange:e=>p("deep_link",e.target.value)})]}),(0,i.jsxs)("label",{className:"grid gap-1",children:[i.jsx("span",{children:"Image URL"}),i.jsx("input",{id:"imgUrl",className:"border rounded-xl px-3 py-2",placeholder:"Image URL",value:c.image_url,onChange:e=>p("image_url",e.target.value)})]}),i.jsx(n,{onDone:e=>p("image_url",e)}),(0,i.jsxs)("div",{className:"flex gap-2",children:[i.jsx("button",{className:"btn btn-primary",onClick:u,children:"Save"}),i.jsx("button",{className:"btn",onClick:()=>e.push("/admin"),children:"Cancel"})]})]})]})}},8903:(e,r,a)=>{"use strict";a.d(r,{z:()=>s});var i=a(70474);function s(){return(0,i.createBrowserClient)("https://wpkcawjvhnaykqjgcgye.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indwa2Nhd2p2aG5heWtxamdjZ3llIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMTYwNzMsImV4cCI6MjA3MzY5MjA3M30.qaXBidq7R3hTJHG9J0ObYoGIi4UWKuQqSe0r3tGtTlA")}},35047:(e,r,a)=>{"use strict";a.r(r);var i=a(77389),s={};for(let e in i)"default"!==e&&(s[e]=()=>i[e]);a.d(r,s)},40397:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});let i=(0,a(68570).createProxy)(String.raw`/Users/cenkyakinlar/Documents/Dokumentit – CenkAir - MacBook Air/DREAMWEAVER/FOODAI/app/admin/offers/new/page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),i=r.X(0,[8948,1913,474,5206,493],()=>a(26497));module.exports=i})();
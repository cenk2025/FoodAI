(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{86916:function(e,s,n){Promise.resolve().then(n.bind(n,69725))},69725:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return c}});var i=n(57437),r=n(2265),a=n(9997),t=n(99376);function c(){let e=(0,a.z)(),s=(0,t.useSearchParams)().get("importSuccess"),[n,c]=(0,r.useState)([]),[l,d]=(0,r.useState)(0);return(0,r.useEffect)(()=>{(async()=>{try{let{data:s}=await e.rpc("admin_click_summary");c(null!=s?s:[])}catch(e){c([])}let{data:s}=await e.from("commissions").select("commission_amount").eq("status","approved");d((s||[]).reduce((e,s)=>e+(s.commission_amount||0),0))})()},[e]),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("h1",{className:"text-3xl font-extrabold",children:"Admin Dashboard"}),s&&(0,i.jsxs)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[(0,i.jsx)("strong",{className:"font-bold",children:"Success! "}),(0,i.jsx)("span",{className:"block sm:inline",children:"CSV file imported successfully."})]}),(0,i.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"rounded-2xl border p-4",children:[(0,i.jsx)("div",{className:"text-sm opacity-70",children:"Clicks (7d)"}),(0,i.jsx)("div",{className:"text-2xl font-bold",children:n&&n.length>0?n[0].cnt:0})]}),(0,i.jsxs)("div",{className:"rounded-2xl border p-4",children:[(0,i.jsx)("div",{className:"text-sm opacity-70",children:"Approved Commission (â‚¬)"}),(0,i.jsx)("div",{className:"text-2xl font-bold",children:l.toFixed(2)})]}),(0,i.jsxs)("div",{className:"rounded-2xl border p-4",children:[(0,i.jsx)("a",{className:"btn btn-primary inline-block",href:"/admin/commissions/import",children:"Import CSV"}),(0,i.jsx)("div",{className:"mt-2 text-sm",children:(0,i.jsx)("a",{href:"/sample-commissions.csv",className:"text-blue-600 hover:underline",download:!0,children:"Download sample CSV"})})]})]}),(0,i.jsxs)("div",{className:"rounded-2xl border p-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Offer Management"}),(0,i.jsx)("a",{className:"btn btn-primary inline-block",href:"/admin/offers/new",children:"Create New Offer"})]})]})}},9997:function(e,s,n){"use strict";n.d(s,{z:function(){return r}});var i=n(21388);function r(){return(0,i.createBrowserClient)("https://wpkcawjvhnaykqjgcgye.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indwa2Nhd2p2aG5heWtxamdjZ3llIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMTYwNzMsImV4cCI6MjA3MzY5MjA3M30.qaXBidq7R3hTJHG9J0ObYoGIi4UWKuQqSe0r3tGtTlA")}},99376:function(e,s,n){"use strict";n.r(s);var i=n(35475),r={};for(var a in i)"default"!==a&&(r[a]=(function(e){return i[e]}).bind(0,a));n.d(s,r)}},function(e){e.O(0,[388,971,117,744],function(){return e(e.s=86916)}),_N_E=e.O()}]);